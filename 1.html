<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title></title>
	<link rel="stylesheet" href="basic.css">
	<link rel="stylesheet" href="box1.css">
	<link rel="stylesheet" href="box2.css">
	<link rel="stylesheet" href="box3.css">
	<link rel="stylesheet" href="box4.css">
	<link rel="stylesheet" href="box5.css">
	<link rel="stylesheet" href="box6.css">
	<link rel="stylesheet" href="box7.css">
	<link rel="stylesheet" href="box8.css">
	<link rel="stylesheet" href="box9.css">
	<link rel="stylesheet" href="box10.css">
	<link rel="stylesheet" href="box11.css">
</head>
<body>
	<h1>盒子不用保持宽高比，但子元素必须保持宽高比（float除外）</h1>
	<br>
	<hr>
	<h2>左右浮动，（缩放时）盒子是否撑开都行，内容也可以换行,写死width</h2>
	<h2>盒子不适合使用保持宽高比，建议写死高度或不写。</h2>
	<h3>写不写高度，盒子的padding用rem,px或者%效果相同，撑开盒子（无论float）</h3>
	<div class="box">
		<div class="container box1-container">
			<div class="box1-left">软文咖媒体发稿平台以资源+策略+技术的方式让品牌传播更简单高效！</div>
			<div class="box1-right">咨询电话：0755-82633905</div>
		</div>
	</div>
	<h2>无高度，左右浮动，当左边（或右边）更高(定高)，矮的一边对齐上中下</h2>
	<h3>矮的一边为纯文字或元素,无论高的有多高，默认对齐上</h3>
	<h3>为矮的一边设置盒子，高度等于高的那边,盒子display：table-cell，配合vertical-align,盒子里有float,absolute会失效，所以float要写在外面的盒子里</h3>
	<div class="box">
		<div class="container box2-container">
			<div class="box2-left">
				<img src="https://img.alicdn.com/tps/i4/TB1LdZNjxv1gK0jSZFFtKb0sXXa.gif" alt="">
			</div>
			<div class="box2-right">
				<div class="box2-box">
					软文咖媒体发稿平台以资源+策略+技术的方式让品牌传播更简单高效！
				</div>
			</div>
		</div>
	</div>
	<h2>无高度，左右浮动，当左边（或右边）更高(保持宽高比)，矮的一边对齐上中下</h2>
	<h3>与前者效果一致</h3>
	<div class="box">
		<div class="container box3-container">
			<div class="box3-left"></div>
			<div class="box3-right">
				<div class="box3-box">
					软文咖媒体发稿平台以资源+策略+技术的方式让品牌传播更简单高效！
				</div>
			</div>
		</div>
	</div>
	<h2>input与label互相对齐</h2>
	<h3>起码有一个盒子有固定宽度才不会错位，居中时外面要有个div,或者自身是block</h3>
	<div class="box">
		<div class="container box4-container">
			<div class="user-box">
				<h3 style="color: white;padding:20px 0;">登录</h3>
				<div class="form-box">
					<label for=""></label>
					<input type="text">
				</div>
				<div class="form-box">
					<label for=""></label>
					<input type="text">
				</div>
				<div class="form-box">
					<label for=""></label>
					<input type="text">
				</div>
				<button>登录</button>
			</div>
		</div>
	</div>
	<h2>竖向瀑布流（css）</h2>
	<h3>火狐兼容性差</h3>
	<h3>column-count规定盒子内元素显示的列数</h3>
	<h3>column-gap代表列之间的间隙，同一个盒子内的文字有效，若盒子里还有盒子则失效。</h3>
	<h3>盒子内的子元素使用break-inside:avoid;</h3>
	<div class="box">
		<div class="container box5-container">
			<div class="box5-item"><i>1</i></div>
			<div class="box5-item"><i>2</i></div>
			<div class="box5-item"><i>3</i></div>
			<div class="box5-item"><i>4</i></div>
			<div class="box5-item"><i>5</i></div>
			<div class="box5-item"><i>6</i></div>
			<div class="box5-item"><i>7</i></div>
			<div class="box5-item"><i>8</i></div>
			<div class="box5-item"><i>9</i></div>
			<div class="box5-item"><i>10</i></div>
			<div class="box5-item"><i>11</i></div>
			<div class="box5-item"><i>12</i></div>
			<div class="box5-item"><i>13</i></div>
			<div class="box5-item"><i>14</i></div>
			<div class="box5-item"><i>15</i></div>
		</div>
	</div>
	<h2>横向瀑布流（css）</h2>
	<h3>ie兼容性差</h3>
	<div class="box">
			<div class="container box6-container">
				<i>1</i>
				<i>2</i>
				<i>3</i>
				<i>4</i>
				<i>5</i>
				<i>6</i>
				<i>7</i>
				<i>8</i>
				<i>9</i>
				<i>10</i>
				<i>11</i>
				<i>12</i>
				<i>13</i>
				<i>14</i>
				<i>15</i>
			</div>
		</div>
		<h2>竖向瀑布流（js）</h2>
		<h3>bug1:上下间距（应该按照列中数目）</h3>
		<h3>bug2：当动态改变时，间距异常</h3>
		<h3>bug3：盒子没有动态计算</h3>
		<!-- <div class="box">
			<div class="container box7-container">
				<div class="box7-item"><p>1</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>2</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>3</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>3</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>4</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>5</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>6</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>7</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>8</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>9</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>10</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>11</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>12</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>13</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>14</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>16</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>17</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>18</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>19</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>20</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>21</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>22</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>23</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>24</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>25</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>26</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>27</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>28</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>29</p><img src="1.jpg" alt=""></div>
				<div class="box7-item"><p>30</p><img src="1.jpg" alt=""></div>
			</div>
		</div> -->
		<h2>横向瀑布流（js）</h2>
		<h2>文字超出隐藏</h2>
		<h3>text-indent: 2em;首行缩进2个字 会导致伪装的省略号错位及最新省略失效</h3>
		<h3>width,display:-webkit-box,-webkit-line-clamp限制第几行出现省略号，剩余
			行正常显示,配合overflow隐藏其他行，-webkit-box-orient: vertical限制元素从上向下排列   必须写这几个  ie无效 </h3>
		<h3>word-break设置英文超出换行 ie无效</h3>
		<h3>height可省略 且设置后可能出现不同浏览器不一致情况，建议写上line-height</h3>
		<h3>text-overflow: 可省略;</h3>
		<div class="box">
			<div class="container box8-container">
				<div class="box8-item">
					<img src="1.jpg" alt="">
					<p>飞机拉对方杰拉德附近垃圾的发掘的；林凤娇阿里的肌肤垃圾地方垃圾地方垃圾附近奥朗德肌肤拉动健身房垃圾了对肌肤房间爱大家发动机</p>
				</div>
			</div>
		</div>
		<h2>下滚动动画，滚回收缩</h2>
		<div class="box">
			<div class="container box9-container">
				<h2>2d移动</h2>
				<h3>注意js控制transition（style.transition）和transform（webkitTransform）</h3>
				<div class="box9-item">
					<div class="b9-updown"></div>
					<div class="b9-updown"></div>
					<div class="b9-updown"></div>
				</div>
				<h2>3d旋转</h2>
				<h3>perspective一定要写在有最外层,当然写在变形层也行，但是会造成旋转时透视不随着旋转变化</h3>
				<h3>transform-style: preserve-3d;要写在次外层</h3>
				<h3>transform-origin表示要变形的物体距离中心点的位置，例如left说明中心点在变形物体的右边</h3>
				<div class="box9-item">
					<div class="b9-box">
						<div class="b9-rotate">
							<div style="width:198px;height:198px;display: table-cell;vertical-align: middle;text-align: center;">
							1
							</div>
						</div>
						<div class="b9-rotate">
							<div style="width:198px;height:198px;display: table-cell;vertical-align: middle;text-align: center;">
							2
							</div>
						</div>
						<div class="b9-rotate">
							<div style="width:198px;height:198px;display: table-cell;vertical-align: middle;text-align: center;">
							3
							</div>
						</div>
						<div class="b9-rotate">
							<div style="width:198px;height:198px;display: table-cell;vertical-align: middle;text-align: center;">
							4
							</div>
						</div>
						<div class="b9-rotate">
							<div style="width:198px;height:198px;display: table-cell;vertical-align: middle;text-align: center;">
							5
							</div>
						</div>
						<div class="b9-rotate">
							<div style="width:198px;height:198px;display: table-cell;vertical-align: middle;text-align: center;">
							6
							</div>
						</div>
					</div>
				</div>
			</div>
			</div>
		</div>
		<h2>通过改变transform-origin来改变变形发生的方向</h2>
		<h2>可以让hover实现两段动画</h2>
		<div class="box">
			<div class="container box10-container">
				<p class="box10">MENU</p>
			</div>
		</div>
		<h2>canvas画布</h2>
		<div class="box">
			<div class="container box11-container">
				<canvas id="canvas1" class="box11-cvs1">
					你的浏览器不支持canvas，请升级浏览器.浏览器不支持，显示此行文本
				</canvas>
			</div>
		</div>
	<script>
		//遍历所有的父元素
		//function searchFromRoot(obj){
		//	obj = obj.type?obj.target:obj;
		//	if(obj.parentNode&&obj.parentNode.localName!=='html'){
		//		obj.parentNode.classList.add('current');
		//		obj = obj.parentNode;
		//		searchFromRoot(obj);
		//	}
		//	//else{
		//	//	searchFromChild(obj);
		//	//}
		//}

		//遍历所有子元素
		//function searchFromChild(obj){
		//	obj = obj.type?obj.target:obj;
        //    for(var i in obj.childNodes){
        //       if(obj.childNodes[i]){
		//		  if(obj.childNodes[i].nodeName!=='#text'&&typeof(obj.childNodes[i])=='object'){
		//			obj.childNodes[i].classList.add('current');
		//			searchFromChild(obj.childNodes[i]);
        //          }
        //          else{
		//			continue;
        //          }
        //       }
        //       else{
        //          continue;
        //       }
        //    }
		//}

		//竖向瀑布流
		
		// let verticalWaterFall = {
		// 	columns: 0,//列数
		// 	rows: 0,//行数
		// 	colHeight:[],//每列的总高度
		// 	min:0,//最小高度列
		// 	max:0,//最大高度列
		// 	childGroup:document.getElementsByClassName('box7-item'),//子元素集合
		// 	childWidth:0,//子元素宽度
		// 	init:function(){ //初始化画布
		// 		let boxWidth = document.getElementsByClassName('box7-container')[0].offsetWidth;//盒子总宽度
		// 		this.childWidth = document.getElementsByClassName('box7-item')[0].offsetWidth;
		// 		this.columns = Math.floor( (boxWidth / this.childWidth).toFixed(1) );
		// 		this.rows = Math.ceil( this.childGroup.length / this.columns);
		// 		for(let j = 0; j<5; j++){						//最大列数的第一行元素复位，防止
		// 				this.childGroup[j].style.left = 0+'px';
		// 				this.childGroup[j].style.top = 0+'px';			//列数减少时元素依然在原位。
		// 				this.childGroup[j].setAttribute("data-column",'');
		// 				this.colHeight = [];					//清空原来的总高度
		// 		}
		// 		for(let i = 0; i<this.columns; i++){				//将第一行排好
		// 			this.childGroup[i].style.left = i*this.childWidth+'px';
		// 			this.childGroup[i].setAttribute("data-column", i);
		// 			this.colHeight[i] = this.childGroup[i].offsetHeight;
		// 		}
		// 	},
		// 	findMin:function(){
		// 		for(let col = 0; col<this.colHeight.length; col++){		//找到了高度总和最小的一列
		// 			this.colHeight[this.min]<this.colHeight[col]?this.min = this.min:this.min = col;
		// 		}
		// 	},
		// 	findMax:function(){
		// 		for(let col = 0; col<this.colHeight.length; col++){		//找到了高度总和最大的一列
		// 			this.colHeight[this.max]>this.colHeight[col]?this.max = this.max:this.max = col;
		// 		}
		// 	},
		// 	sort:function(){ //排列剩余的元素
		// 		for(let k = this.columns; k<this.childGroup.length; k++){ //从第二行的子元素开始排列
		// 			this.findMin();
		// 			this.childGroup[k].style.top = this.colHeight[this.min] + 'px';
		// 			this.childGroup[k].style.left = this.min*this.childWidth + 'px';
		// 			this.childGroup[k].setAttribute("data-column",this.min);
		// 			this.colHeight[this.min] += this.childGroup[k].offsetHeight;
		// 		}
		// 		this.findMax();
		// 		document.getElementsByClassName('box7-container')[0].style.height = this.colHeight[this.max] + 'px';
		// 	}
		// }
		// window.onload = function(){
		// 	verticalWaterFall.init();
		// 	verticalWaterFall.sort();
		// }
		// window.onresize = function(){
		// 	verticalWaterFall.init();
		// 	verticalWaterFall.sort();
		// }
		//下滚滚动条，元素自上而下进入
		//不受滚动高度控制
		// window.onscroll = function(){
		// 	let [ele1,ele2,ele3] = [document.getElementsByClassName('b9-updown')[0],
		// 	document.getElementsByClassName('b9-updown')[1],
		// 	document.getElementsByClassName('b9-updown')[2],]
		// 	if(document.documentElement.scrollTop>=8000){
		// 		ele1.style.opacity = 1;
		// 		ele1.style.transition = "all 0.3s ease-out";
		// 		ele1.style.webkitTransform = 'translate(270px,170px)';

		// 		ele2.style.opacity = 1;
		// 		ele2.style.transition = "all 0.5s ease-out";
		// 		ele2.style.webkitTransform = 'translate(270px,170px)';

		// 		ele3.style.opacity = 1;
		// 		ele3.style.transition = "all 0.7s ease-out";
		// 		ele3.style.webkitTransform = 'translate(270px,170px)';
		// 		}
		// 		else if(document.documentElement.scrollTop<8000){
		// 		ele1.style.opacity = 0;
		// 		ele1.style.transition = "all 0.3s ease-out";
		// 		ele1.style.webkitTransform = 'translate(270px,-250px)';

		// 		ele2.style.opacity = 0;
		// 		ele2.style.transition = "all 0.5s ease-out";
		// 		ele2.style.webkitTransform = 'translate(270px,-250px)';

		// 		ele3.style.opacity = 0;
		// 		ele3.style.transition = "all 0.7s ease-out";
		// 		ele3.style.webkitTransform = 'translate(270px,-250px)';

		

		// 	}
		// }

		 //下滚滚动条，元素自上而下进入
		//受滚动高度控制
		window.onscroll = function(){
			let [ele1,ele2,ele3] = [document.getElementsByClassName('b9-updown')[0],
		 	document.getElementsByClassName('b9-updown')[1],
		 	document.getElementsByClassName('b9-updown')[2],]
			//  250主要是为了让子元素超出盒子隐藏掉，611则是让子元素到达制定位置
			//  1.5是步长，越大越快
			if(document.documentElement.scrollTop>=8000&&document.documentElement.scrollTop<=8361){
				let [step1,step2,step3] = [(document.documentElement.scrollTop - 8250)*0.7,
				(document.documentElement.scrollTop - 8250)*1.7,
				(document.documentElement.scrollTop - 8250)*2.7,]
				//最快那个到达后，其余的应该马上到达，否则最快的那个会超出再弹回来
				if(step3>=165.75){
					ele1.style.transition = 'all .3s';
					ele1.style.webkitTransform = `translate(270px,165.75px)`;
					ele2.style.transition = 'all .2s';
					ele2.style.webkitTransform = `translate(270px,165.75px)`;
					ele3.style.transition = 'all .1s';
					ele3.style.webkitTransform = `translate(270px,165.75px)`;
				}
				else{
					ele1.style.transition = 'all 0s';
					ele1.style.webkitTransform = `translate(270px,${step1}px)`;
					ele2.style.transition = 'all 0s';
					ele2.style.webkitTransform = `translate(270px,${step2}px)`;
					ele3.style.transition = 'all 0s';
					ele3.style.webkitTransform = `translate(270px,${step3}px)`;
				}
					
				
		 	}
			 //到达制定位置不能再动
			else if(document.documentElement.scrollTop>8361){
				ele1.style.transition = 'all .3s';
				ele1.style.webkitTransform = `translate(270px,165.75px)`;
				ele2.style.transition = 'all .2s';
				ele2.style.webkitTransform = `translate(270px,165.75px)`;
				ele3.style.transition = 'all .1s';
				ele3.style.webkitTransform = `translate(270px,165.75px)`;
			}
			//防止回复过程中卡住
			else if(document.documentElement.scrollTop<8000){
				ele1.style.transition = 'all .3s';
				ele1.style.webkitTransform = `translate(270px,-250px)`;
				ele2.style.transition = 'all .2s';
				ele2.style.webkitTransform = `translate(270px,-250px)`;
				ele3.style.transition = 'all .1s';
				ele3.style.webkitTransform = `translate(270px,-250px)`;
			}
		
			//下拉滚动条 元素旋转
		let box = document.getElementsByClassName('b9-box')[0];
		let ele = document.getElementsByClassName('b9-rotate');
		if(document.documentElement.scrollTop>=9000){
			let step = (document.documentElement.scrollTop - 9000)*0.3;
			if(step<=150){
				box.style.transform = `rotateX(${step}deg) rotateZ(${step}deg)`;
				box.style.transition = '0s';
				for(let i =0;i<ele.length;i++){
					ele[i].style.transition = '0s';
					ele[i].style.transformOrigin = `center center -${step*0.3}px`;
				}
			}
			else{
				box.style.transition = 'all .3s';
				box.style.transform = `rotateX(150deg) rotateZ(150deg)`;
				for(let j =0;j<ele.length;j++){
					ele[j].style.transition = 'all .3s';
					ele[j].style.transformOrigin = `center center -40px`;
				}
			}
			
		}
		else if(document.documentElement.scrollTop<9000){
			box.style.transition = 'all .3s';
			box.style.transform = `rotateX(0deg) rotateZ(0deg)`;
			for(let j =0;j<ele.length;j++){
				ele[j].style.transition = 'all .3s';
				ele[j].style.transformOrigin = `center center 0px`;
			}
		}
		}


		
		//canvas移动缩放闪烁
		const bling = () =>{
			let [max,step,canvas] = [	//step放大倍率，max最大放大倍率
				0,1,document.getElementById('canvas1')
			];
			let ctx = canvas.getContext('2d');
			ctx.fillStyle = 'white';
			let [targetX,targetY,myX,myY,mystep,mx,my] = [
				Math.floor(Math.random()*300+20),
				Math.floor(Math.random()*200+20),
				0,0,10,0,0
			];
			mx = Math.ceil(targetX / mystep);
			my = Math.ceil(targetY / mystep);
			console.log('x:'+targetX+',y:'+targetY);
			window.timer1 = setInterval(() =>{
				console.log('currentX:'+myX+',currentY'+myY);
				if(myX==targetX||myY==targetY){
					clearInterval(window.timer1);
				}
				else{
					targetX - myX
					ctx.clearRect(0,0,canvas.width,canvas.height);
					ctx.save();
					ctx.setTransform(1,0,0,1,myX,myY);
					ctx.fillRect(20,20,10,10);
					ctx.restore();
				}
			},1000)
			
// 			setInterval(function(){
// 				ctx.clearRect(0,0,canvas.width,canvas.height);
// 				ctx.save();
// 				for(let i = 0; i < 20; i++){
// 				ctx.beginPath();
// 				let [x,y,r,alpha] = [
// 					Math.floor(Math.random()*300+20),
// 					Math.floor(Math.random()*100+20),
// 					Math.floor(Math.random()*10+5),
// 					Math.random()
// 				]
// // 
// 				ctx.setTransform(1,0,0,1,x,y);
// 				ctx.arc(0,0,r,0,2*Math.PI);
// 				ctx.globalAlpha = alpha;
// 				ctx.closePath();
// 				ctx.fill();
// 				}
// 				ctx.restore();
// 			},1000);
			
			// setInterval(function(){
				// if(step<max){
					// max = 2;
					// step+=0.01;
				// }
				// else{
					// max = 0;
					// step-=0.01;
				// }
				// ctx.beginPath();
				// 
				// ctx.save();
				// ctx.scale(step,step);
				// ctx.translate(-(50*(step-1))/step,-(50*(step-1))/step);
				// ctx.arc(50,50,20,0,2*Math.PI);
				// ctx.closePath();
				// ctx.fill();
				// ctx.restore();
			// },1000/60)
		}
		bling();
	</script>
</body>
</html>